{"version":3,"sources":["Services/PersonService.js","Components/Filter.js","Components/AddPersonForm.js","Components/DeleteButton.js","Components/Persons.js","Components/Notification.js","App.js","index.js"],"names":["url","axios","get","then","response","data","person","post","id","delete","changedPerson","put","Filter","filter","filterHandler","value","onChange","event","target","AddPersonForm","name","nameHandler","number","numberHandler","addPersonHandler","onSubmit","type","DeleteButton","handler","onClick","Persons","toShow","deleteHandler","class","map","className","Notification","text","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","nowFilter","setNowFilter","notificationText","setNotificationText","notificationType","setNotificationType","makeNotification","setTimeout","useEffect","PersonService","x","personsToShow","toLowerCase","includes","style","fontSize","textAlign","color","margin","preventDefault","some","trim","window","confirm","find","toString","y","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.32fb4740.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst url = 'api/persons'\r\n\r\nconst getAll = () => {\r\n\treturn axios.get(url).then(response => response.data)\r\n}\r\n\r\nconst create = (person) => {\r\n  return axios.post(url, person).then(response => response.data)\r\n}\r\n\r\nconst deleteById = (id) => {\r\n  return axios.delete(`${url}/${id}`)\r\n}\r\n\r\nconst update = (id, changedPerson) => {\r\n  return axios.put(`${url}/${id}`, changedPerson).then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, deleteById, update}","const Filter = ({ filter, filterHandler }) => (\r\n    <div>\r\n        Kirjoita tähän filteri rajoittamaan henkilöitä  <input value={filter} onChange={event => filterHandler(event.target.value)} />\r\n    </div>\r\n)\r\n\r\nexport default Filter","const AddPersonForm = ({ name, nameHandler, number, numberHandler, addPersonHandler }) => (\r\n    <form onSubmit={addPersonHandler}>\r\n        <div>\r\n            Nimi: <input value={name} onChange={event => nameHandler(event.target.value)} />\r\n        </div>\r\n        <div>\r\n            Puhelinnumero: <input value={number} onChange={event => numberHandler(event.target.value)} />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">Lisätä</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default AddPersonForm","const DeleteButton = ({handler, id}) => {\r\n  return (\r\n    <button onClick={() => handler(id)}>Poistaa</button>\r\n  )\r\n}\r\nexport default DeleteButton","import DeleteButton from './DeleteButton'\r\n\r\nconst Persons = ({ toShow, deleteHandler }) => (\r\n    <div class='persons'>\r\n        {toShow.map(person => <p className='list'>{person.name}: {person.number} <DeleteButton handler={deleteHandler}  id={person.id}/></p>)}\r\n    </div>\r\n)\r\n\r\nexport default Persons","const Notification = ({text, type}) => {\r\n  if(text === null || type === null) return null;\r\n  return (\r\n    <div className={type}>\r\n      {text}\r\n    </div>\r\n  )\r\n}\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport PersonService from './Services/PersonService'\r\n\r\nimport Filter from './Components/Filter'\r\nimport AddPersonForm from './Components/AddPersonForm'\r\nimport Persons from './Components/Persons'\r\nimport Notification from './Components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [nowFilter, setNowFilter] = useState('')\r\n  const [notificationText, setNotificationText] = useState(null)\r\n  const [notificationType, setNotificationType] = useState(null)\r\n\r\n  const makeNotification = (type, text) => {\r\n    if (type === 'add') {\r\n      setNotificationType('success')\r\n      setNotificationText(text)\r\n      setTimeout(() => { setNotificationText(null); setNotificationType(null) }, 2000)\r\n    }\r\n    if (type === 'delete') {\r\n      setNotificationType('success')\r\n      setNotificationText(text)\r\n      setTimeout(() => { setNotificationText(null); setNotificationType(null) }, 2000)\r\n    }\r\n    if (type === 'change') {\r\n      setNotificationType('success')\r\n      setNotificationText(text)\r\n      setTimeout(() => { setNotificationText(null); setNotificationType(null) }, 2000)\r\n    }\r\n    if (type === 'error') {\r\n      setNotificationType('error')\r\n      setNotificationText(text)\r\n      setTimeout(() => { setNotificationText(null); setNotificationType(null) }, 2000)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    PersonService.getAll()\r\n      .then(x => setPersons(x))\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    if (persons.some(x => x.name.toLowerCase() === newName.toLowerCase().trim())) {\r\n      let result = window.confirm(`${newName} on jo listassa, haluatko muuttaa henkilön numeron?`)\r\n      if (result) {\r\n        const person = persons.find(x => x.name.toLowerCase() === newName.toLowerCase().trim())\r\n        const changedPerson = { ...person, number: newNumber }\r\n        PersonService.update(changedPerson.id.toString(), changedPerson).then(response => {\r\n          setPersons(persons.map(y => y.id !== person.id ? y : response))\r\n          makeNotification('change', `${newName} on muokattu`)\r\n        })\r\n        .catch(x => makeNotification('error', x.response.data.error))\r\n      }\r\n    }\r\n    else {\r\n      const person = {\r\n        name: newName.trim(),\r\n        number: newNumber.trim()\r\n      }\r\n      PersonService.create(person).then(x => {\r\n        setPersons(persons.concat(x))\r\n        makeNotification('add', `${x.name} on lisätty`)\r\n      })\r\n      .catch(error => {\r\n        makeNotification('error', error.response.data.error)\r\n      })\r\n\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n    let result = window.confirm(\"Haluatko poistaa henkilön listasta?\")\r\n    if (result)\r\n      PersonService.deleteById(id)\r\n        .then(x => makeNotification('delete', `${persons.find(x => x.id === id).name} on poistettu!`))\r\n        .then(() => setPersons(persons.filter(x => x.id !== id))) \r\n  }\r\n\r\n  const personsToShow = nowFilter === '' ? persons : persons.filter(x => x.name.toLowerCase().includes(nowFilter.toLowerCase()))\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2 style={{fontSize: 50, textAlign: 'center', color: 'Chocolate'}}>PuhelinLuettelo</h2>\r\n      <Filter filter={nowFilter} filterHandler={setNowFilter} />\r\n      <hr/>\r\n      <Notification type={notificationType} text={notificationText} />\r\n      <h2 style={{fontSize: 40, margin: 10, color: 'chocolate'}}>Lisätä uuden henkilön</h2>\r\n      <AddPersonForm name={newName} nameHandler={setNewName} number={newNumber} numberHandler={setNewNumber} addPersonHandler={addPerson} />\r\n      <hr />\r\n      <h2 style={{fontSize: 40, margin: 10, color: 'chocolate'}}>Henkilöt</h2>\r\n      <Persons toShow={personsToShow} deleteHandler={deletePerson} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}